{"version":3,"sources":["home.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"home.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc function\n * @name demoApp.controller:IndexCtrl\n * @description\n * # IndexCtrl\n * Controller of the demoApp\n */\nhrmApp\n    .controller('HomeCtrl', [\n        '$scope',\n        '$http',\n        '$localStorage',\n        '$mdDialog',\n        '$mdToast',\n        '$timeout',\n        '$auth',\n        '$state',\n        'ssSideNav','$window','$location','$rootScope',\n        function (\n            $scope,\n            $http,\n            $localStorage,\n            $mdDialog,\n            $mdToast,\n            $timeout,\n            $auth,\n            $state,\n            ssSideNav, $q, $log,$window,$location,$rootScope) {\n\n           $scope.currentUser = {};\n\n            $scope.user = {};\n\n            $scope.$on(\"$viewContentLoaded\", function(event){\n                $mdDialog.show({\n                    controller: DialogController,\n                    parent: angular.element(document.body),\n                    templateUrl: 'views/admin/login.html',\n                    controllerAs: 'ctrl',\n                    clickOutsideToClose:false,\n                    targetEvent: event\n                }).then(function (add) {\n                }, function(loginAA) {\n                });\n            });\n\n\n            function DialogController($scope, $mdDialog) {\n                $scope.hide = function () {\n                    $mdDialog.hide();\n                };\n                $scope.cancel = function () {\n                    $mdDialog.cancel();\n                };\n                $scope.add = function (client) {\n                    console.log(client);\n                    $mdDialog.hide(client);\n                };\n                $scope.edit = function (client) {\n                    console.log(client);\n                    $mdDialog.hide(client);\n                };\n                $scope.loginAA = function (user) {\n                    var formData = {\n                        email: $scope.user.email,\n                        password: $scope.user.password\n                    };\n\n                    $auth.login(formData).then(function(data) {\n                        $http.get('http://localhost/hrm/public/api/users').success(function(users) {\n                            var x = JSON.stringify(users.auth);\n                            $localStorage.currentUser = x;\n                            $mdToast.show(\n                                $mdToast.simple()\n                                    .textContent(\"Welcome\")\n                                    .position('top right')\n                                    .hideDelay(1500)\n                            );\n                            $mdDialog.hide(user);\n\n                        }).error(function(error) {\n                            console.log(error);\n\n                        });\n                    }, function(error) {\n                        $mdToast.show(\n                            $mdToast.simple()\n                                .textContent(\"Email ou Mot de pass invalide\")\n                                .position('top right')\n                                .hideDelay(1500)\n                        );\n                    });\n\n                   /* if($scope.user.email === \"admin\" && $scope.user.password === \"admin\"){\n\n                    }\n                    else {\n                        $mdToast.show(\n                            $mdToast.simple()\n                                .textContent(\"Email ou Mot de pass invalide\")\n                                .position('top right')\n                                .hideDelay(1500)\n                        );\n                    }*/\n                };\n            };\n\n                var self = this;\n                self.simulateQuery = false;\n                self.isDisabled    = false;\n                // list of `state` value/display objects\n                self.states        = loadAll();\n                self.querySearch   = querySearch;\n                self.selectedItemChange = selectedItemChange;\n                self.searchTextChange   = searchTextChange;\n                self.newState = newState;\n\n                function newState(state) {\n                        alert(\"Sorry! You'll need to create a Constitution for \" + state + \" first!\");\n                }\n\n                function querySearch (query) {\n                        var results = query ? self.states.filter( createFilterFor(query) ) : self.states,\n                            deferred;\n                        if (self.simulateQuery) {\n                                deferred = $q.defer();\n                                $timeout(function () { deferred.resolve( results ); }, Math.random() * 1000, false);\n                                return deferred.promise;\n                        } else {\n                                return results;\n                        }\n                }\n\n                function searchTextChange(text) {\n                        $log.info('Text changed to ' + text);\n                }\n\n                function selectedItemChange(item) {\n                        $log.info('Item changed to ' + JSON.stringify(item));\n                }\n                /**\n                 * Build `states` list of key/value pairs\n                 */\n                function loadAll() {\n                        var allStates = '2016, 2015, 2014, 2013, 2012, 2011, 201O, 2009,\\\n              2008, 2007, 2006, 2005, 2004, 2003, 2002, 2001, 2000';\n                        return allStates.split(/, +/g).map( function (state) {\n                                return {\n                                        value: state.toLowerCase(),\n                                        display: state\n                                };\n                        });\n                }\n                /**\n                 * Create filter function for a query string\n                 */\n                function createFilterFor(query) {\n                        var lowercaseQuery = angular.lowercase(query);\n                        return function filterFn(state) {\n                                return (state.value.indexOf(lowercaseQuery) === 0);\n                        };\n\n\n\n\n\t   }\n    }\n\n    ]);"],"sourceRoot":"/source/"}